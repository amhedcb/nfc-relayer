generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model PaymentTx {
  uuid                     String   @id
  toAddress                String
  chainId                  String
  contractAddress          String
  value                    String
  data                     Json?
  dappName                 String?
  dappUrl                  String?
  rpcProxySubmissionParams Json?
  createdAt                DateTime @default(now())
  updatedAt                DateTime @updatedAt
}

model ContactlessPaymentTxData {
  uuid                     String   @id
  chainId                  String
  requiresSenderAddress    Boolean?
  contractAbi              String?
  placeholderSenderAddress String?
  approveTxs               Json?
  rpcProxySubmissionParams Json?
  paymentTx                Json
  dappName                 String?
  dappUrl                  String?
  createdAt                DateTime @default(now())
  updatedAt                DateTime @updatedAt
}

model ContactlessPaymentMessage {
  uuid                     String   @id
  chainId                  String
  rpcProxySubmissionParams Json     @default("{}")
  message                  Json
  additionalPayload        Json?
  dappName                 String?
  dappUrl                  String?
  createdAt                DateTime @default(now())
  updatedAt                DateTime @updatedAt
}

model Nonce {
  id        Int      @id @default(autoincrement())
  chainId   String
  address   String
  nonce     BigInt   @default(0)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
